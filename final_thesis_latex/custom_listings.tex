\lstdefinelanguage{diff}{
  morecomment=[f][\color{Blue}]{@@},     % group identifier
  morecomment=[f][\color{Red}]-,         % deleted lines 
  morecomment=[f][\color{Green}]+,       % added lines
  morecomment=[f][\color{Magenta}]{---}, % Diff header lines (must appear after +,-)
  morecomment=[f][\color{Magenta}]{+++},
  breaklines=true,breakindent=0pt,breakatwhitespace=false,
  postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{black}\hookrightarrow\space}},
  basicstyle=\ttfamily\small
}

\lstdefinelanguage{lua}
% Written by Roland Smith <rsmith@xs4all.nl> and hereby placed in the public domain. 
  {morekeywords={and,break,do,else,elseif,end,false,for,function,if,in,local,
     nil,not,or,repeat,return,then,true,until,while},
   morekeywords={[2]arg,assert,collectgarbage,dofile,error,_G,getfenv,
     getmetatable,ipairs,load,loadfile,loadstring,next,pairs,pcall,print,
     rawequal,rawget,rawset,select,setfenv,setmetatable,tonumber,tostring,
     type,unpack,_VERSION,xpcall},
   morekeywords={[2]coroutine.create,coroutine.resume,coroutine.running,
     coroutine.status,coroutine.wrap,coroutine.yield},
   morekeywords={[2]module,require,package.cpath,package.load,package.loaded,
     package.loaders,package.loadlib,package.path,package.preload,
     package.seeall},
   morekeywords={[2]string.byte,string.char,string.dump,string.find,
     string.format,string.gmatch,string.gsub,string.len,string.lower,
     string.match,string.rep,string.reverse,string.sub,string.upper},
   morekeywords={[2]table.concat,table.insert,table.maxn,table.remove,
   table.sort},
   morekeywords={[2]math.abs,math.acos,math.asin,math.atan,math.atan2,
     math.ceil,math.cos,math.cosh,math.deg,math.exp,math.floor,math.fmod,
     math.frexp,math.huge,math.ldexp,math.log,math.log10,math.max,math.min,
     math.modf,math.pi,math.pow,math.rad,math.random,math.randomseed,math.sin,
     math.sinh,math.sqrt,math.tan,math.tanh},
   morekeywords={[2]io.close,io.flush,io.input,io.lines,io.open,io.output,
     io.popen,io.read,io.tmpfile,io.type,io.write,file:close,file:flush,
     file:lines,file:read,file:seek,file:setvbuf,file:write},
   morekeywords={[2]os.clock,os.date,os.difftime,os.execute,os.exit,os.getenv,
     os.remove,os.rename,os.setlocale,os.time,os.tmpname},
   sensitive=true,
   morecomment=[l][\color{Magenta}]{--},
   morecomment=[s][\color{Magenta}]{--[[}{]]},
   morestring=[b][\color{Blue}]",
   morestring=[d][\color{Blue}]',
   breaklines=true,breakindent=0pt,breakatwhitespace=false,
   postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{black}\hookrightarrow\space}},
   basicstyle=\ttfamily\small
}

\lstdefinestyle{BashColor}
{language=bash,
  keywordstyle=\color{Blue},
  basicstyle=\ttfamily\small,
  keywordstyle=[2]{\color{Red}},
  literate={\$}{{\textcolor{Red}{\$}}}1 
         {:}{{\textcolor{Red}{:}}}1
         {~}{{\textcolor{Red}{\textasciitilde}}}1,
  breaklines=true,breakindent=0pt,breakatwhitespace=true,
  postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{black}\hookrightarrow\space}},
}

\lstdefinestyle{CColor}
{language=C,
  keywordstyle=\color{Blue},
  basicstyle=\ttfamily\small,
  keywordstyle=\color{Blue},
  stringstyle=\color{Red},
                commentstyle=\color{Green},
                morecomment=[l][\color{Magenta}]{\#},
  breaklines=true,breakindent=0pt,breakatwhitespace=false,
  postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{black}\hookrightarrow\space}},
}